webpackJsonp([23],{IRKx:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var i=e("Gu7T"),a=e.n(i),n=e("Dd8w"),l=e.n(n),c=e("NRq/"),o=e.n(c),d=e("4bzD"),r=e.n(d),u=e("teIl"),h=e("NYxO"),g={data:function(){return{looks:o.a,hears:r.a,list:[],loading:!1,finished:!1,adult:{loading:!1,finished:!1,list:[],currentPage:1,pageSize:10},child:{loading:!1,finished:!1,list:[],currentPage:1,pageSize:10}}},components:{Header:u.a},computed:l()({},Object(h.c)(["hasOpenApp"])),created:function(){},methods:{getAssembleCourseList:function(){this.getAdultList()},getAdultList:function(){var t=this;if(this.adult.finished)this.getChildList();else{var s={currentPage:this.adult.currentPage,pageSize:this.adult.pageSize,type:1};this.$http.post(this.$server.getAssembleCourseListNew,s).then(function(s){200==s.data.status&&(t.adult.list=[].concat(a()(t.adult.list),a()(s.data.content.list)),t.list=t.adult.list,t.adult.currentPage++,t.adult.loading=!1,t.adult.finished=!!s.data.content.isLastPage,s.data.content.isLastPage&&t.getChildList())})}},getChildList:function(){var t=this,s={currentPage:this.child.currentPage,pageSize:this.child.pageSize,type:2};this.$http.post(this.$server.getAssembleCourseListNew,s).then(function(s){200==s.data.status&&(t.child.list=[].concat(a()(t.child.list),a()(s.data.content.list)),t.list=[].concat(a()(t.adult.list),a()(t.child.list)),t.child.currentPage++,t.child.loading=!1,t.loading=t.child.loading&&t.adult.loading,t.child.finished=!!s.data.content.isLastPage,t.finished=t.child.finished&&t.adult.finished)})},openAssemble:function(t,s){s.stopPropagation(),t.id&&this.$router.push("/assemble/openAssemble/"+t.id)},joinAssemble:function(t,s){s.stopPropagation(),t.id&&this.$router.push("/assemble/joinAssemble/"+t.id)},goCourse:function(t){this.$router.push("/course/"+t.courseId)}}},p={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"assemble-list-wrap"},[e("Header",{attrs:{name:"拼团列表"}}),t._v(" "),e("div",{staticClass:"list"},[e("van-list",{attrs:{finished:t.finished},on:{load:t.getAssembleCourseList},model:{value:t.loading,callback:function(s){t.loading=s},expression:"loading"}},[t._l(t.list,function(s,i){return e("div",{key:i,staticClass:"assemble-item clearfix",on:{click:function(e){return t.goCourse(s)}}},[e("div",{staticClass:"assemble-item-left"},[e("img",{attrs:{src:s.courseSurfacePlot}}),t._v(" "),e("img",{staticClass:"icon",attrs:{src:1==s.courseType?t.looks:t.hears}})]),t._v(" "),e("div",{staticClass:"assemble-item-right"},[e("p",{staticClass:"course-name"},[t._v(t._s(s.courseTitle))]),t._v(" "),e("p",{staticClass:"assemble-price"},[t._v("拼团价："+t._s(s.assemblePrice.toFixed(2))+"币")]),t._v(" "),e("p",{staticClass:"original-price"},[t._v("原价："+t._s(s.coursePrice.toFixed(2))+"币")]),t._v(" "),e("p",{staticClass:"assemble-num"},[t._v("已拼："+t._s(s.assembleSuccessNum))]),t._v(" "),e("div",{staticClass:"assemble-btns"},[e("button",{staticClass:"join-btn",on:{click:function(e){return t.joinAssemble(s,e)}}},[t._v("拼团")])])])])}),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:0==t.list.length&&t.finished,expression:"list.length==0&&finished"}],staticClass:"no-data"},[e("p",[t._v("当前没有已开始的拼团哟")])])],2)],1)],1)},staticRenderFns:[]};var f=e("VU/8")(g,p,!1,function(t){e("hAxj")},"data-v-64b83004",null);s.default=f.exports},hAxj:function(t,s){}});